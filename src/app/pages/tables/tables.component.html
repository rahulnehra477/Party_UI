
<div class=" content">
  <div class=" row" >
    <div class=" col-md-12">
      <div class=" card card-plain">
        <div class=" card-header">
          <h3 class=" card-title">Dashboard</h3>
          <p class=" category">Details of All Parties</p>
        </div>
        <div class=" card-body">
          <div class=" table-responsive" >
            <div class="form-group">
              <input
                class="form-control"
                (keyup)="applyFilter($event.target.value)"
                placeholder="Filter"
              />
            </div>
            <div class="table-container">
              <table
                mat-table
                [dataSource]="dataSource"
                class="table table-striped"
              >
                <ng-container matColumnDef="party_title">
                  <th mat-header-cell *matHeaderCellDef >
                    PARTY TITLE
                  </th>
                  <td
                    mat-cell
                    *matCellDef="let element"
                    (click)="$event.stopPropagation()"
                  >
                    <ng-container *ngIf="isAdmin; else user">
                      <a (click)="onAdd(element)" class="hoveraffect" >
                        {{ element.party_title }}
                      </a>
                    </ng-container>

                    <ng-template #user>
                      <div [ngClass]="{
                        green: todaysdate < element.partyDate,
                        yellow: todaysdate > element.partyDate
                      }">
                        {{ element.party_title }}
                      </div>
                    </ng-template>
                  </td>
                </ng-container>

                <ng-container matColumnDef="select_project">
                  <th mat-header-cell *matHeaderCellDef>
                    PROJECT
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <div [ngClass]="{
                      green: todaysdate < element.partyDate,
                      yellow: todaysdate > element.partyDate
                    }"> 
                    {{ element.projectId }}
                  </div>
                  </td>
                </ng-container>

                <ng-container matColumnDef="party_place">
                  <th mat-header-cell *matHeaderCellDef>
                    PARTY PLACE
                  </th>
                  <td mat-cell *matCellDef="let element">
                    <div [ngClass]="{
                      green: todaysdate < element.partyDate,
                      yellow: todaysdate > element.partyDate
                    }"> 
                    {{ element.party_place }}
                  </div>
                  </td>
                </ng-container>

                <ng-container matColumnDef="approved_by">
                  <th mat-header-cell *matHeaderCellDef>APPROVED BY</th>
                  <td mat-cell *matCellDef="let element">
                    <div [ngClass]="{
                      green: todaysdate < element.partyDate,
                      yellow: todaysdate > element.partyDate
                    }">
                    {{ element.approverId }}
                  </div>
                  </td>
                </ng-container>

                <ng-container matColumnDef="date_time">
                  <th
                    mat-header-cell
                    *matHeaderCellDef
                    style="text-align:center"
                  >
                    DATE TIME
                  </th>
                  <td
                    mat-cell
                    *matCellDef="let element"
                    style="text-align:center"
                  >
                    <div
                      [ngClass]="{
                        green: todaysdate < element.partyDate,
                        yellow: todaysdate > element.partyDate
                      }"
                    >
                      {{ element.partyDate | date: "dd/MM/yyyy" }}
                    </div>
                  </td>
                  ]
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr
                  mat-row
                  *matRowDef="let row; columns: displayedColumns"
                ></tr>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
